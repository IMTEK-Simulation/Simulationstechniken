<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>Milestone 01 - Simulationstechniken</title> <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <script type="text/javascript" src="/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.7.1 --> <title>Milestone 01 | Simulationstechniken</title> <meta name="generator" content="Jekyll v3.9.0" /> <meta property="og:title" content="Milestone 01" /> <meta name="author" content="Lars Pastewka" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Simulationstechniken" /> <meta property="og:description" content="Simulationstechniken" /> <link rel="canonical" href="http://localhost:4000/_homework/uebungsblatt01.html" /> <meta property="og:url" content="http://localhost:4000/_homework/uebungsblatt01.html" /> <meta property="og:site_name" content="Simulationstechniken" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Milestone 01" /> <script type="application/ld+json"> {"author":{"@type":"Person","name":"Lars Pastewka"},"@type":"WebPage","description":"Simulationstechniken","url":"http://localhost:4000/_homework/uebungsblatt01.html","headline":"Milestone 01","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="http://localhost:4000/" class="site-title lh-tight"> Simulationstechniken </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/_lecture/" class="nav-list-link">Vorlesung</a><ul class="nav-list "></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/_homework/" class="nav-list-link">Übungsaufgaben</a><ul class="nav-list "></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/_notes/" class="nav-list-link">Notizen</a><ul class="nav-list "></ul></li><li class="nav-list-item"><a href="http://localhost:4000/impressum.html" class="nav-list-link">Impressum</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Simulationstechniken" aria-label="Search Simulationstechniken" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <!-- Add a favicon --> <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico"> <link rel="stylesheet" href="/_includes/md.css"> <!-- Enable Katex for math rendering https://stackoverflow.com/a/57370526 --> <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.css" integrity="sha384-yFRtMMDnQtDRO8rLpMIKrtPCD5jdktao2TV19YiZYWMDkUR5GQZR/NOVTdquEx1j" crossorigin="anonymous"> <link rel="stylesheet" href="/_includes/md.css"> <script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.js" integrity="sha384-9Nhn55MVVN0/4OFx7EE5kpFBPsEMZxKTCnA+4fqDmg12eCTqGi6+BB2LjY8brQxJ" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/contrib/auto-render.min.js" integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script> --> <script type="text/javascript" id="MathJax-script" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script> <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script> <script> MathJax = { tex: { tags: 'ams' } }; $(document).ready(function(){ key = 'href'; $('[href^="https://uni-freiburg.cloud.panopto.eu"]').replaceWith(function() { return '<div class="video-container43"><iframe src='+$(this).attr(key)+' frameborder="0" allowfullscreen></iframe></div>'; }); $('[href^="https://www.youtube.com"]').replaceWith(function() { return '<div class="video-container169"><iframe src='+$(this).attr(key)+' frameborder="0" allowfullscreen></iframe></div>'; }); }); </script> <style type="text/css"> .video-container169 { position: relative; padding-bottom: 56.25%; /* 16:9 */ height: 0; } .video-container169 iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; } .video-container43 { position: relative; padding-bottom: 75%; /* 4:3; */ height: 0; } .video-container43 iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; } </style> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="">Project</a></li> <li class="breadcrumb-nav-list-item"><span>Milestone 01</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <h1 id="milestone-1--setting-up-the-build-environment"> <a href="#milestone-1--setting-up-the-build-environment" class="anchor-heading" aria-labelledby="milestone-1--setting-up-the-build-environment"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Milestone 1 <br /> Setting up the build environment </h1> <h2 id="learning-goals"> <a href="#learning-goals" class="anchor-heading" aria-labelledby="learning-goals"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Learning goals </h2> <p>The student will…</p> <ul> <li>…be able to compile a C++ project with CMake.</li> </ul> <h2 id="introduction"> <a href="#introduction" class="anchor-heading" aria-labelledby="introduction"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Introduction </h2> <p>In this first milestone we will set up a build environemnt and make sure that you can compile C++ code on your computer. This will be the starting point for the developments in the following milestones.</p> <h2 id="setting-up-your-system"> <a href="#setting-up-your-system" class="anchor-heading" aria-labelledby="setting-up-your-system"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Setting up your system </h2> <p>The starting point of your project is setting up a proper build environment. This means, you need to install and test all tools necessary for the project. In particular, you will need:</p> <ul> <li>A C++ compiler</li> <li><a href="https://cmake.org">CMake</a> (at least version 3.11) for our build environment</li> <li>An <a href="https://en.wikipedia.org/wiki/Message_Passing_Interface">MPI</a> installation</li> </ul> <p>We provide installation instructions for <a href="https://ubuntu.com/">Ubuntu</a> installations. If you have a Windows machine, we recommend to use the <a href="https://en.wikipedia.org/wiki/Windows_Subsystem_for_Linux">Windows Subsystem for Linux (WSL)</a>. Documentation on how to install WSL on Windows 10 can be found <a href="https://docs.microsoft.com/en-us/windows/wsl/install-win10">here</a>. The following instructions also apply for Ubuntu installed within WSL.</p> <p>Once you have these things set up, open a command shell and type</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt-get update
<span class="nb">sudo </span>apt-get <span class="nb">install </span>cmake gcc clang gdb build-essential git cmake-curses-gui valgrind
<span class="nb">sudo </span>apt-get <span class="nb">install </span>openmpi-bin libopenmpi-dev 
</code></pre></div></div> <p>Note that if you are on a different system than Ubuntu, these commands may differ. On <a href="https://ubuntu.com/">Ubuntu</a>/<a href="https://www.debian.org/">Debian</a> it is <code class="language-plaintext highlighter-rouge">apt</code> or <code class="language-plaintext highlighter-rouge">apt-get</code> but on <a href="https://getfedora.org/">Fedora</a>/<a href="https://www.centos.org/">CentOS</a>/<a href="https://www.redhat.com/en/technologies/linux-platforms/enterprise-linux">RHEL</a> the package manager command is <code class="language-plaintext highlighter-rouge">dnf</code>. On macOS it depends on which package manager you have installed, the most popular one is <a href="https://brew.sh/">Homebrew</a> which provides the <code class="language-plaintext highlighter-rouge">brew</code> command for package installation. The names of the packages will also vary between these systems.</p> <p>We recommend using a development environment for developing code. We ourselves use <a href="https://www.jetbrains.com/clion/">CLion</a>. Free educational licenses for CLion can be obtained <a href="https://www.jetbrains.com/community/education/">here</a>. CLion is available for all of the above platforms and can on Windows be configured to use WSL. (Documentation on CLion and WSL can be found <a href="https://www.jetbrains.com/help/clion/how-to-use-wsl-development-environment-in-product.html">here</a>.)</p> <h2 id="creating-an-empty-repository"> <a href="#creating-an-empty-repository" class="anchor-heading" aria-labelledby="creating-an-empty-repository"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Creating an empty repository </h2> <p>The first thing you need to do is to set up your build environment. We have done this for you and provide a template repository here: <a href="https://github.com/imtek-simulation/cmake-skeleton/">https://github.com/imtek-simulation/cmake-skeleton/</a>. We will now be walking you through the process of obtaining this skeleton repository from the command line. You can also carry out the whole process within CLion.</p> <p>On <a href="github.com">Github</a>, you can simply create a new repository from our template. Navigate to the link above and click on “Use this template”. You will be asked for a new name of the repository: Let’s call this yamd (Yet Another Molecular Dynamics code). Since my username is “pastewka”, the repository now resides under</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> https://github.com/pastewka/yamd
</code></pre></div></div> <p>You can now check this repository out, i.e. copy it to your local machine. On the shell, type</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone git@github.com:pastewka/yamd.git
</code></pre></div></div> <p>(and replace “pastewka” and “yamd” with whatever is appropriate for you). The code now resides in the subdirectory “yamd”. Note that if you do not want to work on github, you can also directly check out the template repository.</p> <p>Our template repository has existing CMake files. Those CMake files are set up to automatically download the libraries</p> <ul> <li><a href="https://eigen.tuxfamily.org/">Eigen</a> for basic (array) data structures and</li> <li><a href="https://github.com/google/googletest">Googletest</a> as a testing framework.</li> </ul> <p>We will work with these libraries throughout this class.</p> <p><em>Note</em>: If you are unfamiliar with the unix shell, we recommend <a href="https://swcarpentry.github.io/shell-novice/">this tutorial</a>. We also strongly recommend that you use version control (git). If you are unfamiliar with git and want to learn more, see <a href="https://swcarpentry.github.io/git-novice/">this tutorial</a>.</p> <h3 id="compiling-the-code"> <a href="#compiling-the-code" class="anchor-heading" aria-labelledby="compiling-the-code"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Compiling the code </h3> <p>The template repository contains a file <code class="language-plaintext highlighter-rouge">main.cpp</code> that prints the string “Hello world!” to screen and a simple test <code class="language-plaintext highlighter-rouge">test_hello_world.cpp</code>. We need to instruct CMake to create what is called a <code class="language-plaintext highlighter-rouge">Makefile</code> that contains instructions how to build the code. CMake generally builds the code in a directory that is separate from the source directory. This is different from other build systems. We recommend that you create a directory <code class="language-plaintext highlighter-rouge">build</code> inside your source directory.</p> <p>First, navigate to the source code and create this directory:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd </span>yamd
<span class="nb">mkdir </span>build
<span class="nb">cd </span>build
</code></pre></div></div> <p>Now, create the makefiles:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cmake ..
</code></pre></div></div> <p>The argument to <code class="language-plaintext highlighter-rouge">cmake</code> tells it where the source code is located, here in the directory level just upwards of the current one (i.e. in <code class="language-plaintext highlighter-rouge">..</code>). You can also build in any other directory but then need to specify the appropriate path when running <code class="language-plaintext highlighter-rouge">cmake</code>.</p> <p>Note that <code class="language-plaintext highlighter-rouge">cmake</code> has lots of configuration options. To see those, run the text-based user interface:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ccmake ..
</code></pre></div></div> <p>The additional <code class="language-plaintext highlighter-rouge">c</code> in front stands for <code class="language-plaintext highlighter-rouge">curses</code>, the library that is used to create the text-based user interface.</p> <p>You can now execute</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>make
</code></pre></div></div> <p>to compile the code. Now run</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./myproject
tests/myproject_tests
</code></pre></div></div> <p>If this worked, you have successfully compiled the hello world program and its tests.</p> <h2 id="task-summary"> <a href="#task-summary" class="anchor-heading" aria-labelledby="task-summary"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Task summary </h2> <p>This milestone requires the following tasks:</p> <ul> <li>Create a repository for your code development from our template</li> <li>Compile the template and run main exectuable and tests</li> </ul> <p>We provide the following files for you:</p> <ul> <li>Skeleton repository at <a href="https://github.com/imtek-simulation/cmake-skeleton/">https://github.com/imtek-simulation/cmake-skeleton/</a></li> </ul> <hr> <footer> <p class="text-small text-grey-dk-100 mb-0">Copyright &copy; 2017-2020 Andreas Greiner, 2020-2021 Lars Pastewka.</a></p> <div class="d-flex mt-2"> </div> </footer> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
